<view:UserTab x:Class="COTG.Views.BuildTab"
			  xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
			  xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
			  xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
			  xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
			  xmlns:tg="using:Telerik.UI.Xaml.Controls.Grid"
			  xmlns:tgCore="using:Telerik.Data.Core"
			  xmlns:tk="using:Microsoft.Toolkit.Uwp.UI.Controls"
			  xmlns:winui="using:Microsoft.UI.Xaml.Controls"
			  xmlns:model="using:COTG.Models"
			  xmlns:game="using:COTG.Game"
			  xmlns:cotg="using:COTG"
			  xmlns:view="using:COTG.Views"
			  mc:Ignorable="d"
			  Tag="Build"
			  TabNavigation="Once"
			  IsTabStop="True"
			  FontFamily="Tw Cen MT Condensed">

	<Grid x:Name="cityBaseGrid">

		<Grid.RowDefinitions>
			<RowDefinition Height="auto" />
			<RowDefinition Height="auto" />
			<RowDefinition Height="auto" />
			<RowDefinition Height="*" />
		</Grid.RowDefinitions>

		<tg:RadDataGrid x:Name="cityGrid"
							x:FieldModifier="public"
							ColumnResizeHandleDisplayMode="OnColumnHeaderActionFlyoutOpen"
							ColumnDataOperationsMode="Flyout"
							Grid.Row="3"
							IsTabStop="True"
							TabFocusNavigation="Once"
						AllowFocusOnInteraction="True"
						ScrollViewer.ZoomMode="Enabled"
						ScrollViewer.IsScrollInertiaEnabled="False"
						ScrollViewer.IsVerticalScrollChainingEnabled="False"
						ScrollViewer.IsZoomChainingEnabled="True"
						
							UserGroupMode="Auto"
							AlternationStep="2"
							ItemsSource="{x:Bind game:City.gridCitySource, Mode=OneWay}"
							AutoGenerateColumns="False"
							SelectionMode="Extended"
							CanUserChooseColumns="True"
							RowHeight="{StaticResource GridRowHeight}"
							UserFilterMode="Auto"
							PointerPressed="{x:Bind game:Spot.GridPressed}"
							PointerExited="{x:Bind game:Spot.GridExited}"
							FontSize="{StaticResource SmallFontSize}"
							IsTextScaleFactorEnabled="False"
							GroupPanelPosition="Bottom"
							SelectionUnit="Row"
							Tag="Raid"
							>
	
			<tg:RadDataGrid.Commands>
				<view:BuildCustomDataBindingCompleteCommand />
				<model:CityGridToggleColumnVisibilityCommand />
			</tg:RadDataGrid.Commands>
			

			<tg:RadDataGrid.Columns>

			
				<tg:DataGridImageColumn PropertyName="icon"
											Header="I"
											SizeMode="Fixed"
											Width="32"
											HeaderTip="Click to switch to this city"
											Tip="Click to switch to this city"
											 />
				<tg:DataGridTextColumn PropertyName="nameAndRemarks"
										   Tip="Click to raid from this city without switching cities (fast)"
										   Header="Name"
										   CellContentStyle="{StaticResource LeftAlign}"
										   SizeMode="Auto"
										    />
				<tg:DataGridTextColumn PropertyName="bStage"
										   HeaderTip="Building Stage"
										   Tip="Click 'Do all the stuff'"
										   CellContentStyle="{StaticResource CenterAlignLink}"
										    />
				<tg:DataGridTextColumn PropertyName="xy"
										   HeaderTip="City Coordinates"
										   Tip="Click to view this city"
										   CellContentStyle="{StaticResource CenterAlignLink}"
										    />
				<tg:DataGridNumericalColumn PropertyName="cont"
												
												CellContentStyle="{StaticResource CenterAlign}"
												SizeMode="Auto"
												 />
				

				<tg:DataGridBooleanColumn PropertyName="isBuilding"
										   HeaderTip="Building"
										   Tip="Building if checked, stalled if not"
										   CellContentStyle="{StaticResource CenterAlignLink}"
										    />
				<tg:DataGridBooleanColumn PropertyName="AutoTowers"
										   HeaderTip="Tower Autobuild"
										   Tip="Towers are set to autobuild?"
										    />
				<tg:DataGridBooleanColumn PropertyName="AutoWalls"
										   HeaderTip="Wall Autobuild"
										   Tip="Walls are set to autobuild?"
										 
										    />
				<!--<tg:DataGridTextColumn PropertyName="buildingStr"
										   HeaderTip="Buildings"
										   Tip="Number of buildings"
										   CellContentStyle="{StaticResource CenterAlignLink}"
										    />-->
				<tg:DataGridNumericalColumn PropertyName="Buildings"
										   HeaderTip="Building Count"
										   Tip="May or may not include queued buildings"
										   CellContentStyle="{StaticResource RightAlign}"
										    />
				<tg:DataGridNumericalColumn PropertyName="points"
												Tip="City score"
												SizeMode="Auto"
												CellContentStyle="{StaticResource RightAlign}"
												CellContentFormat="{}{0,6:N0}"
												 />
				<tg:DataGridNumericalColumn PropertyName="constructionSpeed"
											Header="cs"
											HeaderTip="Construction Speed"
												Tip="Construction Speed"
												SizeMode="Auto"
												CellContentStyle="{StaticResource RightAlign}"
												CellContentFormat="{}{0,4:N0}"
												 />
				<tg:DataGridNumericalColumn PropertyName="tsTotal"
												CellContentStyle="{StaticResource RightAlign}"
												Tip="TS enlisted in city"
												CellContentFormat="{}{0,7:N0}"
												DefaultSortOrder="Descending"
												SizeMode="Auto"
												 />
				<tg:DataGridTextColumn PropertyName="remarks"
										   CellContentStyle="{StaticResource LeftAlign}"
										   SizeMode="Auto"
										   IsVisible="False" />
				<tg:DataGridTextColumn PropertyName="senny"
										   CellContentStyle="{StaticResource LeftAlign}"
										   SizeMode="Auto"
										   IsVisible="False" />
				<tg:DataGridBooleanColumn PropertyName="isCastle"
											  IsVisible="False"
											  SizeMode="Auto"
											   />
				<tg:DataGridBooleanColumn PropertyName="isOnWater"
											  IsVisible="False"
											  SizeMode="Auto"
											   />
				<tg:DataGridBooleanColumn PropertyName="bcBlocked"
										  Tip="Buildings that can't build, maybe?"
											Header="??" />
				<tg:DataGridBooleanColumn PropertyName="bc15"
										  Tip="I don't know what this means"
											Header="*?"	 />
				<tg:DataGridBooleanColumn PropertyName="bc16"
										  Tip="Another mystery"
											Header="!?"  	 />
			</tg:RadDataGrid.Columns>

		</tg:RadDataGrid>
	


	</Grid>
</view:UserTab>
