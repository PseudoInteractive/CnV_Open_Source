<local:UserTab
    x:Class="COTG.Views.AttackTab"
    Tag="Attack"
     xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
      xmlns:game="using:COTG.Game"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
      xmlns:cotg="using:COTG"
      xmlns:my="using:Microsoft.UI.Xaml.Controls"
      xmlns:tk="using:Microsoft.Toolkit.Uwp.UI.Controls"
      xmlns:local="using:COTG.Views"
    mc:Ignorable="d">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="64" />
            <RowDefinition Height="*" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>
        <StackPanel Orientation="Horizontal" HorizontalAlignment="Stretch" >
           
            <Button Content="Remove Selected" VerticalAlignment="Center" Margin="12"
                          Width="70" HorizontalAlignment="Center" FontSize="14" Style="{ThemeResource ButtonRevealStyle}"
                      Click="RemoveSelected_Click" />
            <Button Content="Add Senator" VerticalAlignment="Center" Margin="12"
                          Width="70" HorizontalAlignment="Center" FontSize="14" Style="{ThemeResource ButtonRevealStyle}"
                      Click="AddSenator_Click" />
            <Button Content="Add Fake" VerticalAlignment="Center" Margin="12"
                          Width="70" HorizontalAlignment="Center" FontSize="14" Style="{ThemeResource ButtonRevealStyle}"
                      Click="AddFake_Click" />
        </StackPanel>
        <tk:DataGrid x:Name="attackGrid" x:FieldModifier="public"
                        AutoGenerateColumns="False"
                        ItemsSource="{x:Bind local:AttackTab.attacks, Mode=OneWay}"
                        RowHeight="48"
                     Grid.Row="1"
                     SelectionMode="Extended"
                     RowDetailsVisibilityMode="Collapsed"
                     AreRowDetailsFrozen="True" 
                     FrozenColumnCount="2"
                     CanUserReorderColumns="True"
                    CanUserSortColumns="True"
             
                     GridLinesVisibility="All"
                     AlternatingRowBackground="#FF301030"
                    
                     >
            <tk:DataGrid.Columns>
                <tk:DataGridTextColumn Header="Player" Binding="{Binding player, Mode=TwoWay}"
                                        />
                <tk:DataGridTemplateColumn Header="Target" >
                    <tk:DataGridTemplateColumn.CellTemplate>
                        <DataTemplate x:DataType="game:Attack">
                            <HyperlinkButton Content="{x:Bind xy}" Tapped="AttackCoord_Tapped" HorizontalAlignment="Center" FontSize="14" HorizontalContentAlignment="Center"
                                                           ToolTipService.ToolTip="The target to attack"
                                             
                                             />
                        </DataTemplate>
                    </tk:DataGridTemplateColumn.CellTemplate>
                </tk:DataGridTemplateColumn>
                <tk:DataGridComboBoxColumn  Header="Type" 
                                        Binding="{Binding type,Mode=TwoWay}"
                                            ItemsSource="{x:Bind game:AttackType.types , Mode=OneTime}"
                                        
                                             DisplayMemberPath="name"
                                            
                                             />
                <tk:DataGridCheckBoxColumn Header="Fake" Binding="{Binding fake, Mode=TwoWay}"
                                        />
                </tk:DataGrid.Columns>
        </tk:DataGrid>
        <tk:GridSplitter Grid.Row="2"
                         ResizeDirection="Rows"
                                                 Height="11"
                         HorizontalAlignment="Stretch"
                         VerticalAlignment="Top"
                           Background="Transparent"
                    >
            <tk:GridSplitter.Element>
                <FontIcon FontFamily="{StaticResource SymbolThemeFontFamily}" Glyph="&#xE76F;"
                     IsHitTestVisible="False"    />
            </tk:GridSplitter.Element>
        </tk:GridSplitter>
        <tk:DataGrid x:Name="targetGrid" x:FieldModifier="public"
                        AutoGenerateColumns="False"
                     Grid.Row="2"
                        ItemsSource="{x:Bind local:AttackTab.targets, Mode=OneWay}"
                        RowHeight="46"
                     Margin="0,14,0,0"
                     GridLinesVisibility="All"
                     
                     AlternatingRowBackground="#FF103020"
                     >
            <tk:DataGrid.Columns>
                <tk:DataGridTemplateColumn Header="Icon" >
                    <tk:DataGridTemplateColumn.CellTemplate>
                        <DataTemplate x:DataType="game:Spot">
                            <Image Source= "{x:Bind icon}" HorizontalAlignment="Center" Stretch= "UniformToFill"
                                   VerticalAlignment="Center"   />
                        </DataTemplate>
                    </tk:DataGridTemplateColumn.CellTemplate>
                </tk:DataGridTemplateColumn>

                <tk:DataGridTemplateColumn Header="xy" >
                    <tk:DataGridTemplateColumn.CellTemplate>
                        <DataTemplate x:DataType="game:Spot">
                            <HyperlinkButton Content="{x:Bind xy}" Tapped="TargetCoord_Tapped" HorizontalAlignment="Center" FontSize="14" HorizontalContentAlignment="Center"
                                                           ToolTipService.ToolTip="The target to attack"
                                             
                                             />
                        </DataTemplate>
                    </tk:DataGridTemplateColumn.CellTemplate>
                </tk:DataGridTemplateColumn>
                <tk:DataGridTextColumn Header="Player" Binding="{Binding player, Mode=OneTime}" />
                
            </tk:DataGrid.Columns>
        </tk:DataGrid>
    </Grid>
</local:UserTab>
