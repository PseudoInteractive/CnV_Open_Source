<views:UserTab
    x:Class="COTG.Views.HeatTab"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:views="using:COTG.Views"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
	 xmlns:wuxdata="using:Windows.UI.Xaml.Data"
	xmlns:win="using:Windows.UI.Xaml.Controls"
    mc:Ignorable="d"
    d:DesignHeight="300"
	Tag="Heat"
    d:DesignWidth="400">

	<Grid >
		<Grid.Resources>
			<CollectionViewSource x:Name="groups" Source="{x:Bind records}" IsSourceGrouped="True" ItemsPath="children"
                              />
			<DataTemplate x:Key="ZoomedInGroupHeaderTemplate" x:DataType="views:WorldRecord">
				<TextBlock Text="{x:Bind dateStr,Mode=OneTime}" Style="{StaticResource SubtitleTextBlockStyle}"/>
			</DataTemplate>
			<DataTemplate x:Key="ZoomedOutTemplate" x:DataType="wuxdata:ICollectionViewGroup">
				<TextBlock Text="{x:Bind ((views:WorldRecord)Group).dateStr,Mode=OneTime}" Style="{StaticResource SubtitleTextBlockStyle}" />
			</DataTemplate>

			<DataTemplate x:Key="recordTempalte" x:DataType="views:WorldRecord"  >
					<TextBlock Text="{x:Bind timeStr,Mode=OneTime}" VerticalAlignment="Center" FontSize="14" Margin="4,4,4,4" Padding="2,2,2,2" Tapped="TextBlock_Tapped" />
			
			</DataTemplate>
		</Grid.Resources>
		
		<Grid.RowDefinitions>
			<RowDefinition Height="auto"/>
			<RowDefinition Height="*" />
			<RowDefinition Height="auto"/>
		</Grid.RowDefinitions>
		<SemanticZoom x:Name="zoom" Grid.Row="1"  >
			<SemanticZoom.ZoomedInView>
				<GridView x:Name="listView" SelectionChanged="snapshots_SelectionChanged" IsItemClickEnabled="True" ItemClick="listView_ItemClick" SelectionMode="Extended" x:FieldModifier="public" Margin="0" Padding="0"  PointerEntered="snapshots_PointerEntered" ItemTemplate="{StaticResource recordTempalte}" MinHeight="22" IsMultiSelectCheckBoxEnabled="False"
                   ItemsSource="{x:Bind groups.View}" >

					<GridView.GroupStyle>
						<GroupStyle HeaderTemplate="{StaticResource ZoomedInGroupHeaderTemplate}" />
					</GridView.GroupStyle>
					
				</GridView>
			</SemanticZoom.ZoomedInView>
			<SemanticZoom.ZoomedOutView>
				<ListView ItemsSource="{x:Bind groups.View.CollectionGroups}" ItemTemplate="{StaticResource ZoomedOutTemplate}"  SelectionMode="Extended"  />
			</SemanticZoom.ZoomedOutView>
		</SemanticZoom>


		<TextBlock Text="World Snapshots:" VerticalAlignment="Center" HorizontalAlignment="Center" IsColorFontEnabled="False" FocusVisualPrimaryThickness="3,2,2,2" IsHitTestVisible="False"  />
		
		<Button Click="Now_Click" Grid.Row="2" HorizontalAlignment="Center" VerticalAlignment="Center" >
			<TextBlock Text="Clear" HorizontalAlignment="Center" FontSize="14" />
		</Button>
	</Grid>
</views:UserTab>
